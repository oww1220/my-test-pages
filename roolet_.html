<!DOCTYPE html>
<html lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords">
<meta name="description">
<meta name="robots" content="noindex,follow">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, target-densitydpi=medium-dpi, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta name="renderer" content="ie-stand">
<meta name="naver-site-verification" content="19cad6f98d713d73d31e115d86eba26a0fde2e90"/>
<meta name="google-site-verification" content="RrySAfMd7xZnVVNeRvPdXyO6pJLarHEKTEek6-tb484" />
<title>신라아이파크인터넷면세점</title>
<link rel="apple-touch-icon-precomposed" href="https://m.shillaipark.com/estore/_ui/mobile/common/shilladfshome/images/app_shillaipark2.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://m.shillaipark.com/estore/_ui/mobile/common/shilladfshome/images/app_shillaipark2.png">
<link rel="apple-touch-icon-precomposed" sizes="120X120" href="https://m.shillaipark.com/estore/_ui/mobile/common/shilladfshome/images/app_shillaipark2.png">
<link rel="shortcut icon" href="https://m.shillaipark.com/estore/_ui/mobile/common/shilladfshome/images/app_shillaipark2.png" />
<link type="text/css" rel="stylesheet" media="all" href="https://m.shillaipark.com/estore/_ui/mobile/common/shilladfshome/kr/css/common.css?bt=201801041403"/>
<link rel="stylesheet" type="text/css" media="all" href="https://m.shillaipark.com/estore/_ui/mobile/common/shilladfshome/kr/css/common_dev.css?bt=201801041403" />

<script type="text/javascript" src="https://m.shillaipark.com/estore/_ui/mobile/common/js/jquery-1.11.2.min.js"></script>


</head>

<body>

    
    
<style>

.jSlots-wrapper {
    overflow: hidden;
    height: 164px;
    display: inline-block;
}

.slot {
    float: left;
}
.slot li {
    height: 164px;
    width: 164px;
    font-size:70px;text-align:center;
    line-height:164px;
}
</style>

<div class="slot_w">
    <ul class="slot normal">
        <li>$</li>
        <li>5</li>
        <li>$</li>
        <li>4</li>
        <li>$</li>
        <li>9</li>
    </ul>
    <ul class="slot reverse">
        <li>?</li>
        <li>0</li>
        <li>?</li>
        <li>0</li>
        <li>?</li>
        <li>9</li>
    </ul>
    <ul class="slot normal">
        <li>%</li>
        <li>%</li>
        <li>%</li>
        <li>%</li>
        <li>?</li>
        <li>%</li>
    </ul>
    <input type="hidden" id="playNormal" value="play"/>
</div>



</body>

<script>
(function($){

    $.jSlots = function(el, options){

        var base = this;
        //console.log(base);
        base.$el = $(el);
        base.el = el;

        base.$el.data("jSlots", base);

        base.init = function() {

            base.options = $.extend({},$.jSlots.defaultOptions, options);

            base.setup();
            base.bindEvents();

        };


        // --------------------------------------------------------------------- //
        // DEFAULT OPTIONS
        // --------------------------------------------------------------------- //

        $.jSlots.defaultOptions = {
            number : 1,          // Number: number of slots
            winnerNumber : 1,    // Number or Array: list item number(s) upon which to trigger a win, 1-based index, NOT ZERO-BASED
            spinner : '',        // CSS Selector: element to bind the start event to
            spinEvent : 'click', // String: event to start slots on this event
            onStart : $.noop,    // Function: runs on spin start,
            onEnd : $.noop,      // Function: run on spin end. It is passed (finalNumbers:Array). finalNumbers gives the index of the li each slot stopped on in order.
            onWin : $.noop,      // Function: run on winning number. It is passed (winCount:Number, winners:Array)
            easing : 'swing',    // String: easing type for final spin
            time : 2300,         // Number: total time of spin animation
            loops :1,
            reverse : false,            // Number: times it will spin during the animation
        };

        // --------------------------------------------------------------------- //
        // HELPERS
        // --------------------------------------------------------------------- //

        /*
        base.randomRange = function(low, high) {
            return Math.floor( Math.random() * (1 + high - low) ) + low;
        };
        */
    

        // --------------------------------------------------------------------- //
        // VARS
        // --------------------------------------------------------------------- //

        base.isSpinning = false;
        base.spinSpeed = 0;
        base.winCount = 0;
        base.doneCount = 0;
        base.delayCount = 0;

        base.$liHeight = 0;
        base.$liWidth = 0;

        base.allSlots = [];

        // --------------------------------------------------------------------- //
        // FUNCTIONS
        // --------------------------------------------------------------------- //


        base.setup = function() {

            // set sizes

            var $list = base.$el;
            var $li = $list.find('li').first();

            base.$liHeight = $li.outerHeight();
            base.$liWidth = $li.outerWidth();

            base.liCount = base.$el.children().length;

            base.idx = 0;
            base.randomRange = (function(low, high) {
                return Math.floor( Math.random() * (1 + high - low) ) + low;
            })(1, base.liCount);

            base.listHeight = base.$liHeight * base.liCount;

            base.increment = (base.options.time / base.options.loops) / base.options.loops;

            $list.css('position', 'relative');

            $li.clone().appendTo($list);

            base.$wrapper = $list.wrap('<div class="jSlots-wrapper"></div>').parent();

            // remove original, so it can be recreated as a Slot
            base.$el.remove();

            // clone lists
            for (var i = base.options.number - 1; i >= 0; i--){
                base.allSlots.push( new base.Slot(base.delayCount) );
            }
            
        };

        base.bindEvents = function() {
            $(base.options.spinner).bind(base.options.spinEvent, function(event) {
                if (!base.isSpinning) {
                    /*
                    base.randomRange = (function(low, high) {
                        return Math.floor( Math.random() * (1 + high - low) ) + low;
                    })(1, base.liCount);
                    */

                    
                    base.idx++;

                    if(base.idx == (base.liCount + 2)){
                        base.idx = 2;
                    }

                    base.playSlots();
                }
            });
        };

        // Slot contstructor
        base.Slot = function(delayCount) {
            this.delayCount=delayCount;
            this.spinSpeed = 0;
            this.el = base.$el.clone().appendTo(base.$wrapper)[0];
            this.$el = $(this.el);
            this.loopCount = 0;
            this.number = 0;
            this.setting();
        };


        base.Slot.prototype = {

            setting:function(el){
                var $ta=$(this.el);
                $ta.css({"top":"-"+(this.delayCount*base.$liHeight)+"px"});
            },
            // do one rotation
            spinEm : function() {
                var that = this;
                
                //console.log(base.listHeight);
                if(!base.options.reverse){
                    that.$el
                    .css( 'top', 0 )
                    .animate( { 'top' : -base.listHeight }, 2000, 'linear', function() {
                        that.lowerSpeed();
                    });
                }
                else{
                    that.$el
                    .css( 'top', -base.listHeight )
                    .animate( { 'top' : 0 }, 2000, 'linear', function() {
                        that.lowerSpeed();
                    });
                }

                
                
            },

            lowerSpeed : function() {

                this.spinSpeed += base.increment;
                this.loopCount++;

                if ( this.loopCount < base.options.loops ) {
                    
                    this.spinEm();
                } else {
                    
                    this.finish();
                }
            },

            // final rotation
            finish : function() {

                var that = this;

                //var endNum = base.randomRange;
                var endNum = base.idx;
                //console.log(endNum);
                var finalPos = - ( (base.$liHeight * endNum) - base.$liHeight );
                /*
                var finalSpeed = that.delayCount*1000;
                */
                var finalSpeed =0;
                //console.log(finalPos);
                that.$el
                    .css( 'top', -base.listHeight )
                    .animate( {'top': finalPos}, finalSpeed, "linear", function() {
                        base.isSpinning = false;
                    });

            }

        };



        base.playSlots = function() {

            base.isSpinning = true;
            base.winCount = 0;
            base.doneCount = 0;

            if ( $.isFunction(base.options.onStart) ) {
                base.options.onStart();
            }

            $.each(base.allSlots, function(index, val) {
                this.spinSpeed = 0;
                this.loopCount = 0;
                this.spinEm();
                /*
                setTimeout(function(){
                    this.spinEm();
                }.bind(this),this.delayCount*400);
                */
                
                
            });

        };


        base.onWin = function() {
            if ( $.isFunction(base.options.onWin) ) {
                base.options.onWin();
            }
        };


        // Run initializer
        base.init();
    };


    // --------------------------------------------------------------------- //
    // JQUERY FN
    // --------------------------------------------------------------------- //

    $.fn.jSlots = function(options){
        if (this.length) {
            return this.each(function(){
                (new $.jSlots(this, options));
            });
        }
    };

})(jQuery);

$(function(){
    var timers;
    
    $('.slot.normal').jSlots({
        spinner : '#playNormal',
    });


    $('.slot.reverse').jSlots({
        spinner : '#playNormal',
        reverse : true,
    });

    (function repeat() {
        clearTimeout(timers);
        timers = setTimeout(repeat, 2500);
        $("#playNormal").trigger("click");
    })();

    

});
</script>

</html>